<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>APA - Ordenação</title>
	</head>

	<body>
		
		<h1>APA - Ordenação</h1>

		<form name="entrada">

			<p>Ordenar com:</p>
			<input type="radio" name="radioSort" value="1" /> Insertion Sort
			<input type="radio" name="radioSort" value="2"  /> Selection Sort

			<br>

			<input type="text" name="in" size="40" placeholder="Entrada" />
			<input type="button" name="botaoSort" value="Sort" onclick="captura()" /> <br> <br>

		</form>

		<form name="saida">
			<input type="text" name="out" size="40"/>
		</form>

		<script>
			
			function insertionSort(array){

				var pivot, i, j;

				for (i = 1; i < array.length ; i ++){

					pivot = array[i];
					j = i - 1;

					while(j >= 0 && array[j] > pivot){

						array[j+1] = array[j];
						j = j - 1;
						array[j+1] = pivot;
					}
				}

				return array;
			}

			function selectionSort(array){

				var i, j, aux, menorValor;

				for (i = 0; i < array.length - 1; i++){

					aux = i; //posicao do menor valor

					for (j = i + 1; j < array.length; j++)

						//Se encontrar um valor menor, substitua
						if( array[j] < array[aux] )	
							aux = j;

					//Se o menor valor for diferente do array[i], troque
					//O if foi feito para nao trocar numeros repetidos
					if (array[i] != array[aux]){
						menorValor = array[aux];
						array[aux] = array[i];
						array[i] = menorValor;
					}

				}

				return array;

			}

			function captura(){
				var entrada = document.entrada.in.value;
				ordena( entrada.split(" ") );
			}
			
			function ordena(array){

				var opcao = document.entrada.radioSort.value;

				switch(opcao){
					case "1": resultado(insertionSort(array) );
							break;
					case "2": resultado(selectionSort(array) );
							break;
				}

			}

			//Imprime o resultado na caixa de texto
			function resultado(array){

				var texto = "";
				//Formatando a string para exibicao
				for (var i = 0; i < array.length; i++){
					texto = texto + array[i] + "\t";
				}

				document.saida.out.value = texto;
			}

		</script>
		
	</body>
</html>
